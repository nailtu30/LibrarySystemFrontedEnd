{"remainingRequest":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nail_tu/Desktop/advancedDB/universitylib/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/src/views/Login.vue","mtime":1671695193246},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/cache-loader/dist/cjs.js","mtime":1671677016981},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/babel-loader/lib/index.js","mtime":1671677018849},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/cache-loader/dist/cjs.js","mtime":1671677016981},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/vue-loader/lib/index.js","mtime":1671677018662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgYWNjb3VudDogIlRvbTEwMjQiLAogICAgICAgIHBhc3N3b3JkOiAiMTIzNDU2IiwKICAgICAgfSwKICAgICAgaXNBZG1pbjogZmFsc2UsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0TG9naW5Gb3JtKCkgewogICAgICBjb25zb2xlLmxvZygic3VibWl0Iik7CiAgICAgIC8vdG9kbzogYmFja2VuZAogICAgICBpZiAodGhpcy5pc0FkbWluKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIkFkbWluTWFpbiIsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgYWNjb3VudDogdGhpcy5sb2dpbkZvcm0uYWNjb3VudCwKICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIlJlYWRlck1haW4iLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGFjY291bnQ6IHRoaXMubG9naW5Gb3JtLmFjY291bnQsCiAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVzZXRMb2dpbkZvcm0oKSB7CiAgICAgIGNvbnNvbGUubG9nKCJyZXNldCIpOwogICAgICB0aGlzLiRyZWZzWyJsb2dpbkZvcm0iXS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIGNoYW5nZVJvbGUoKSB7CiAgICAgIHRoaXMuaXNBZG1pbiA9ICF0aGlzLmlzQWRtaW47CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <p>欢迎来到大学图书馆</p>\n    <el-card class=\"box-card\">\n      <el-form\n        :model=\"loginForm\"\n        ref=\"loginForm\"\n        label-width=\"50px\"\n        class=\"loginForm\"\n      >\n        <el-form-item label=\"账号\" prop=\"account\">\n          <el-input type=\"text\" v-model=\"loginForm.account\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input type=\"password\" v-model=\"loginForm.password\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitLoginForm\">登录</el-button>\n          <el-button @click=\"resetLoginForm\">重置</el-button>\n        </el-form-item>\n      </el-form>\n      <div v-if=\"isAdmin\">\n        <el-button class=\"text1\" type=\"text\" @click=\"changeRole\"\n          >当前为管理员登录，点击切换读者登录</el-button\n        >\n      </div>\n      <div v-else>\n        <el-button class=\"text1\" type=\"text\" @click=\"changeRole\"\n          >当前为读者登录，点击切换管理员登录</el-button\n        >\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loginForm: {\n        account: \"Tom1024\",\n        password: \"123456\",\n      },\n      isAdmin: false,\n    };\n  },\n  methods: {\n    submitLoginForm() {\n      console.log(\"submit\");\n      //todo: backend\n      if (this.isAdmin) {\n        this.$router.push({\n          name: \"AdminMain\",\n          params: {\n            account: this.loginForm.account,\n          },\n        });\n      } else {\n        this.$router.push({\n          name: \"ReaderMain\",\n          params: {\n            account: this.loginForm.account,\n          },\n        });\n      }\n    },\n    resetLoginForm() {\n      console.log(\"reset\");\n      this.$refs[\"loginForm\"].resetFields();\n    },\n    changeRole() {\n      this.isAdmin = !this.isAdmin;\n    },\n  },\n};\n</script>\n<style scoped>\n.container {\n  /* margin: 0 auto; */\n}\n.text {\n  font-size: 14px;\n}\n\n.text1 {\n  font-size: 10px;\n  float: right;\n}\n\n.item {\n  padding: 18px 0;\n}\n\n.box-card {\n  width: 480px;\n  margin: 0 auto;\n  margin-top: 200px;\n}\n.loginForm {\n  margin-left: 10px;\n  margin-right: 20px;\n  margin-top: 30px;\n  text-align: center;\n}\n</style>"]}]}