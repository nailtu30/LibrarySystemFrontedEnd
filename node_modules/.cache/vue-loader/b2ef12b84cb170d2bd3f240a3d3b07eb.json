{"remainingRequest":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nail_tu/Desktop/advancedDB/universitylib/src/views/AdminMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/src/views/AdminMain.vue","mtime":1672303500594},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/cache-loader/dist/cjs.js","mtime":1671677016981},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/babel-loader/lib/index.js","mtime":1671677018849},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/cache-loader/dist/cjs.js","mtime":1671677016981},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/vue-loader/lib/index.js","mtime":1671677018662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBTZWFyY2hCYXIgZnJvbSAiLi4vY29tcG9uZW50cy9TZWFyY2hCYXIudnVlIjsKaW1wb3J0IERvY3VtZW50SW5mb0NhcmRBZG1pbiBmcm9tICIuLi9jb21wb25lbnRzL0RvY3VtZW50SW5mb0NhcmRBZG1pbi52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNlYXJjaEJhciwKICAgIERvY3VtZW50SW5mb0NhcmRBZG1pbiwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY2NvdW50OiAiIiwKICAgICAgYWN0aXZlTmFtZTogImZpcnN0IiwKICAgICAgc2VhcmNoUmVzdWx0czogW10sCiAgICAgIGFkZFJlYWRlckZvcm06IHsKICAgICAgICBhY2NvdW50OiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgYWRkcmVzczogIiIsCiAgICAgICAgcGhvbmU6ICIiLAogICAgICAgIHR5cGU6ICIiLAogICAgICB9LAogICAgICBsaWJzOiBbXSwKICAgICAgc2VhY2hMaWJOYW1lOiAiIiwKICAgICAgYm9ycm93ZXJzOiBbXSwKICAgICAgYm9ycm93ZWRCb29rczogW10sCiAgICAgIHNlYWNoWWVhcjogIiIsCiAgICAgIHBvcHVsYXJCb29rczogW10sCiAgICAgIGF2ZUZpbmVQZXJSZWFkZXI6IFtdLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmFjY291bnQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuYWNjb3VudDsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ291dCgpIHsKICAgICAgdGhpcy5hY2NvdW50ID0gIiI7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiTG9naW4iLAogICAgICB9KTsKICAgIH0sCiAgICBzZWFyY2gocmVzKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9IHJlczsKICAgIH0sCiAgICBjYW5jZWxBZGRSZWFkZXJGb3JtKCkgewogICAgICBjb25zb2xlLmxvZygicmVzZXQiKTsKICAgICAgdGhpcy4kcmVmc1siYWRkUmVhZGVyRm9ybSJdLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgb25TdWJtaXRBZGRSZWFkZXJGb3JtKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmFkZFJlYWRlckZvcm0pOwogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiAi5paw5aKe6K+76ICF5oiQ5YqfIiwKICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgIH0pOwogICAgfSwKICAgIHNlYXJjaExpYnMoKSB7CiAgICAgIHRoaXMubGlicyA9IFsKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAibGliMSIsCiAgICAgICAgICBsb2NhdGlvbjogImxvYzEiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogImxpYjIiLAogICAgICAgICAgbG9jYXRpb246ICJsb2MyIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJsaWIzIiwKICAgICAgICAgIGxvY2F0aW9uOiAibG9jMyIsCiAgICAgICAgfSwKICAgICAgXTsKICAgIH0sCiAgICBzZWFyY2hCb3Jyb3dlcigpIHsKICAgICAgdGhpcy5ib3Jyb3dlcnMgPSBbCiAgICAgICAgewogICAgICAgICAgbmFtZTogInJlYWRlcjEiLAogICAgICAgICAgbnVtX2Jvb2s6IDUwMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJyZWFkZXIyIiwKICAgICAgICAgIG51bV9ib29rOiAyMDAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAicmVhZGVyMyIsCiAgICAgICAgICBudW1fYm9vazogMTAwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogInJlYWRlcjQiLAogICAgICAgICAgbnVtX2Jvb2s6IDkwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogInJlYWRlcjUiLAogICAgICAgICAgbnVtX2Jvb2s6IDgwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogInJlYWRlcjYiLAogICAgICAgICAgbnVtX2Jvb2s6IDcwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogInJlYWRlcjciLAogICAgICAgICAgbnVtX2Jvb2s6IDUwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogInJlYWRlcjgiLAogICAgICAgICAgbnVtX2Jvb2s6IDQwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogInJlYWRlcjkiLAogICAgICAgICAgbnVtX2Jvb2s6IDMwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogInJlYWRlcjEwIiwKICAgICAgICAgIG51bV9ib29rOiAyMiwKICAgICAgICB9LAogICAgICBdOwogICAgfSwKICAgIHNlYXJjaEJvcnJvd2VkQm9va3MoKSB7CiAgICAgIHRoaXMuYm9ycm93ZWRCb29rcyA9IFsKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiYm9vazEiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogImJvb2syIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJib29rMyIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiYm9vazQiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogImJvb2s1IiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJib29rNiIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiYm9vazciLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogImJvb2s4IiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJib29rOSIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiYm9vazEwIiwKICAgICAgICB9LAogICAgICBdOwogICAgfSwKICAgIHNlYXJjaFBvcHVsYXJCb29rcygpIHsKICAgICAgdGhpcy5wb3B1bGFyQm9va3MgPSBbCiAgICAgICAgewogICAgICAgICAgbmFtZTogImJvb2sxMTEiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogImJvb2syMiIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiYm9vazMzIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJib29rNDQiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogImJvb2s1MyIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiYm9vazYyIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJib29rNzIiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogImJvb2s4MSIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiYm9vazkwIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJib29rMTAiLAogICAgICAgIH0sCiAgICAgIF07CiAgICB9LAogICAgc2VhcmNoQXZlRmluZVBlclJlYWRlcigpIHsKICAgICAgdGhpcy5hdmVGaW5lUGVyUmVhZGVyID0gWwogICAgICAgIHsKICAgICAgICAgIHJlYWRlcjogInIxIiwKICAgICAgICAgIGF2ZUZpbmU6IDMwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgcmVhZGVyOiAicjIiLAogICAgICAgICAgYXZlRmluZTogMzIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICByZWFkZXI6ICJyMyIsCiAgICAgICAgICBhdmVGaW5lOiAzMywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHJlYWRlcjogInI0IiwKICAgICAgICAgIGF2ZUZpbmU6IDMxLAogICAgICAgIH0sCiAgICAgIF07CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AdminMain.vue"],"names":[],"mappings":";AA6HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminMain.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <el-button style=\"float: right\" type=\"danger\" size=\"mini\" @click=\"logout\"\n      >退出登录</el-button\n    >\n    <p style=\"text-align: right; marigin-bottom: 20px; margin-right: 100px\">\n      Hello, {{ this.account }}\n    </p>\n    <!-- <el-divider></el-divider> -->\n    <el-tabs v-model=\"activeName\" type=\"card\">\n      <el-tab-pane label=\"查询和新增副本\" name=\"first\">\n        <div class=\"sb\">\n          <search-bar @search=\"search\" />\n        </div>\n        <div\n          class=\"doc-info-card\"\n          v-for=\"res in searchResults\"\n          :key=\"res.docId\"\n        >\n          <document-info-card-admin :doc=\"res\" />\n        </div>\n      </el-tab-pane>\n      <el-tab-pane label=\"新增读者\" name=\"second\">\n        <div class=\"add-reader-form\">\n          <el-form\n            ref=\"addReaderForm\"\n            :model=\"addReaderForm\"\n            label-width=\"80px\"\n          >\n            <el-form-item label=\"账户\">\n              <el-input v-model=\"addReaderForm.account\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\">\n              <el-input\n                v-model=\"addReaderForm.password\"\n                type=\"password\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"名字\">\n              <el-input v-model=\"addReaderForm.name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"地址\">\n              <el-input v-model=\"addReaderForm.address\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"电话\">\n              <el-input v-model=\"addReaderForm.phone\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"类别\">\n              <el-radio-group v-model=\"addReaderForm.type\">\n                <el-radio label=\"学生\"></el-radio>\n                <el-radio label=\"教师\"></el-radio>\n                <el-radio label=\"行政人员\"></el-radio>\n              </el-radio-group>\n            </el-form-item>\n            <div class=\"add-reader-form-button\">\n              <el-button type=\"primary\" @click=\"onSubmitAddReaderForm\"\n                >新增</el-button\n              >\n              <el-button @click=\"cancelAddReaderForm\">取消</el-button>\n            </div>\n          </el-form>\n        </div>\n      </el-tab-pane>\n      <el-tab-pane label=\"查询分馆位置信息\" name=\"third\">\n        <el-button @click=\"searchLibs\">查询</el-button>\n        <div style=\"marigh-top: 50px; margin-left: 50px\">\n          <el-table :data=\"libs\" style=\"width: 30%\">\n            <el-table-column prop=\"name\" label=\"读者\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"location\" label=\"位置\" width=\"180\">\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-tab-pane>\n      <el-tab-pane label=\"查询分馆读者借阅前十\" name=\"seventh\">\n        <span>请输入分馆名称</span\n        ><el-input v-model=\"seachLibName\" style=\"width: 15%\" />\n        <el-button @click=\"searchBorrower\">查询</el-button>\n        <div style=\"marigh-top: 50px; margin-left: 50px\">\n          <el-table :data=\"borrowers\" style=\"width: 30%\">\n            <el-table-column prop=\"name\" label=\"馆名\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"num_book\" label=\"借阅数量\" width=\"180\">\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-tab-pane>\n      <el-tab-pane label=\"查询分馆借阅文档前十\" name=\"fourth\">\n        <span>请输入分馆名称</span\n        ><el-input v-model=\"seachLibName\" style=\"width: 15%\" />\n        <el-button @click=\"searchBorrowedBooks\">查询</el-button>\n        <div style=\"marigh-top: 50px; margin-left: 50px\">\n          <el-table :data=\"borrowedBooks\" style=\"width: 20%\">\n            <el-table-column prop=\"name\" label=\"书名\" width=\"180\">\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-tab-pane>\n      <el-tab-pane label=\"查询年度文档前十\" name=\"fifth\">\n        <span>请输入年份</span\n        ><el-input v-model=\"seachYear\" style=\"width: 15%\" />\n        <el-button @click=\"searchPopularBooks\">查询</el-button>\n        <div style=\"marigh-top: 50px; margin-left: 50px\">\n          <el-table :data=\"popularBooks\" style=\"width: 20%\">\n            <el-table-column prop=\"name\" label=\"书名\" width=\"180\">\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-tab-pane>\n      <el-tab-pane label=\"查询读者平均费用\" name=\"sixth\">\n        <el-button @click=\"searchAveFinePerReader\">查询</el-button>\n        <div style=\"marigh-top: 50px; margin-left: 50px\">\n          <el-table :data=\"aveFinePerReader\" style=\"width: 40%\">\n            <el-table-column prop=\"reader\" label=\"读者\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"aveFine\" label=\"平均费用\" width=\"180\">\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\nimport SearchBar from \"../components/SearchBar.vue\";\nimport DocumentInfoCardAdmin from \"../components/DocumentInfoCardAdmin.vue\";\n\nexport default {\n  components: {\n    SearchBar,\n    DocumentInfoCardAdmin,\n  },\n  data() {\n    return {\n      account: \"\",\n      activeName: \"first\",\n      searchResults: [],\n      addReaderForm: {\n        account: \"\",\n        password: \"\",\n        name: \"\",\n        address: \"\",\n        phone: \"\",\n        type: \"\",\n      },\n      libs: [],\n      seachLibName: \"\",\n      borrowers: [],\n      borrowedBooks: [],\n      seachYear: \"\",\n      popularBooks: [],\n      aveFinePerReader: [],\n    };\n  },\n  mounted() {\n    this.account = this.$route.params.account;\n  },\n  methods: {\n    logout() {\n      this.account = \"\";\n      this.$router.push({\n        name: \"Login\",\n      });\n    },\n    search(res) {\n      console.log(res);\n      this.searchResults = res;\n    },\n    cancelAddReaderForm() {\n      console.log(\"reset\");\n      this.$refs[\"addReaderForm\"].resetFields();\n    },\n    onSubmitAddReaderForm() {\n      console.log(this.addReaderForm);\n      this.$message({\n        message: \"新增读者成功\",\n        type: \"success\",\n      });\n    },\n    searchLibs() {\n      this.libs = [\n        {\n          name: \"lib1\",\n          location: \"loc1\",\n        },\n        {\n          name: \"lib2\",\n          location: \"loc2\",\n        },\n        {\n          name: \"lib3\",\n          location: \"loc3\",\n        },\n      ];\n    },\n    searchBorrower() {\n      this.borrowers = [\n        {\n          name: \"reader1\",\n          num_book: 500,\n        },\n        {\n          name: \"reader2\",\n          num_book: 200,\n        },\n        {\n          name: \"reader3\",\n          num_book: 100,\n        },\n        {\n          name: \"reader4\",\n          num_book: 90,\n        },\n        {\n          name: \"reader5\",\n          num_book: 80,\n        },\n        {\n          name: \"reader6\",\n          num_book: 70,\n        },\n        {\n          name: \"reader7\",\n          num_book: 50,\n        },\n        {\n          name: \"reader8\",\n          num_book: 40,\n        },\n        {\n          name: \"reader9\",\n          num_book: 30,\n        },\n        {\n          name: \"reader10\",\n          num_book: 22,\n        },\n      ];\n    },\n    searchBorrowedBooks() {\n      this.borrowedBooks = [\n        {\n          name: \"book1\",\n        },\n        {\n          name: \"book2\",\n        },\n        {\n          name: \"book3\",\n        },\n        {\n          name: \"book4\",\n        },\n        {\n          name: \"book5\",\n        },\n        {\n          name: \"book6\",\n        },\n        {\n          name: \"book7\",\n        },\n        {\n          name: \"book8\",\n        },\n        {\n          name: \"book9\",\n        },\n        {\n          name: \"book10\",\n        },\n      ];\n    },\n    searchPopularBooks() {\n      this.popularBooks = [\n        {\n          name: \"book111\",\n        },\n        {\n          name: \"book22\",\n        },\n        {\n          name: \"book33\",\n        },\n        {\n          name: \"book44\",\n        },\n        {\n          name: \"book53\",\n        },\n        {\n          name: \"book62\",\n        },\n        {\n          name: \"book72\",\n        },\n        {\n          name: \"book81\",\n        },\n        {\n          name: \"book90\",\n        },\n        {\n          name: \"book10\",\n        },\n      ];\n    },\n    searchAveFinePerReader() {\n      this.aveFinePerReader = [\n        {\n          reader: \"r1\",\n          aveFine: 30,\n        },\n        {\n          reader: \"r2\",\n          aveFine: 32,\n        },\n        {\n          reader: \"r3\",\n          aveFine: 33,\n        },\n        {\n          reader: \"r4\",\n          aveFine: 31,\n        },\n      ];\n    },\n  },\n};\n</script>\n<style scoped>\n.sb {\n  margin-top: 30px;\n  margin-left: 100px;\n  margin-right: 100px;\n}\n.doc-info-card {\n  display: inline;\n  float: left;\n  margin-top: 30px;\n  margin-left: 30px;\n}\n.add-reader-form {\n  margin-top: 30px;\n  width: 50%;\n}\n.add-reader-form-button {\n  margin-left: 250px;\n}\n</style>"]}]}