{"remainingRequest":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nail_tu/Desktop/advancedDB/universitylib/src/components/SearchBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/src/components/SearchBar.vue","mtime":1671687666991},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/cache-loader/dist/cjs.js","mtime":1671677016981},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/babel-loader/lib/index.js","mtime":1671677018849},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/cache-loader/dist/cjs.js","mtime":1671677016981},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/vue-loader/lib/index.js","mtime":1671677018662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5wdXQ6ICIiLAogICAgICBzZWxlY3Q6ICIiLAogICAgICBEb2N1bWVudHM6IFsKICAgICAgICB7CiAgICAgICAgICBkb2NJZDogMTAwMSwKICAgICAgICAgIHRpdGxlOiAiZG9jIHRpdGxlMTAwMSIsCiAgICAgICAgICBwdWJsaXNoZXJJZDogMjAwMSwKICAgICAgICAgIHB1YmxpY2F0aW9uRGF0ZTogIjIwMTItMDYtMDciLAogICAgICAgICAgdHlwZXM6ICJib29rIiwKICAgICAgICAgIHB1Ymxpc2hlck5hbWU6ICJwdWIgbmFtZTEwMDEiLAogICAgICAgICAgcHVibGlzaGVyQWRkcmVzczogInB1YiBhZGRyZXNzMTAwMSIsCiAgICAgICAgICBJU0JOOiAiSVNCTjEwMDEiLAogICAgICAgICAgYXV0aG9yTGlzdDogWyJhdXRob3IxIiwgImF1dGhvcjIiLCAiYXV0aG9yMyJdLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgZG9jSWQ6IDEwMDIsCiAgICAgICAgICB0aXRsZTogImRvYyB0aXRsZTEwMDIiLAogICAgICAgICAgcHVibGlzaGVySWQ6IDIwMDIsCiAgICAgICAgICBwdWJsaWNhdGlvbkRhdGU6ICIyMDExLTA2LTA3IiwKICAgICAgICAgIHR5cGVzOiAiYm9vayIsCiAgICAgICAgICBwdWJsaXNoZXJOYW1lOiAicHViIG5hbWUxMDAyIiwKICAgICAgICAgIHB1Ymxpc2hlckFkZHJlc3M6ICJwdWIgYWRkcmVzczEwMDIiLAogICAgICAgICAgSVNCTjogIklTQk4xMDAyIiwKICAgICAgICAgIGF1dGhvckxpc3Q6IFsiYXV0aG9yMSIsICJhdXRob3I0Il0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBkb2NJZDogMTAwMywKICAgICAgICAgIHRpdGxlOiAiZG9jIHRpdGxlMTAwMyIsCiAgICAgICAgICBwdWJsaXNoZXJJZDogMjAwMSwKICAgICAgICAgIHB1YmxpY2F0aW9uRGF0ZTogIjIwMDEtMDYtMDciLAogICAgICAgICAgdHlwZXM6ICJqb3VybmFsIHZvbHVtZSIsCiAgICAgICAgICBwdWJsaXNoZXJOYW1lOiAicHViIG5hbWUxMDAzIiwKICAgICAgICAgIHB1Ymxpc2hlckFkZHJlc3M6ICJwdWIgYWRkcmVzczEwMDMiLAogICAgICAgICAgam91cm5hbE5hbWU6ICJqb3VybmFsTmFtZTEwMDMiLAogICAgICAgICAgc2NvcGU6ICJzY29wZTEwMDMiLAogICAgICAgICAgZWRpdG9yTGlzdDogWyJlMSIsICJlMiIsICJlNCJdLAogICAgICAgICAgdm9sdW1lRWRpdG9yOiBbInZlMSIsICJ2ZTIiLCAidmUzIiwgInZlNCJdLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgZG9jSWQ6IDEwMDQsCiAgICAgICAgICB0aXRsZTogImRvYyB0aXRsZTEwMDQiLAogICAgICAgICAgcHVibGlzaGVySWQ6IDIwMDUsCiAgICAgICAgICBwdWJsaWNhdGlvbkRhdGU6ICIxOTk5LTA2LTA3IiwKICAgICAgICAgIHR5cGVzOiAiY29uZmVyZW5jZSBwcm9jZWVkaW5ncyIsCiAgICAgICAgICBwdWJsaXNoZXJOYW1lOiAicHViIG5hbWUxMDAzIiwKICAgICAgICAgIHB1Ymxpc2hlckFkZHJlc3M6ICJwdWIgYWRkcmVzczEwMDQiLAogICAgICAgICAgY29uZmVyZW5jZURhdGU6ICIxOTk4LTA3LTA5IiwKICAgICAgICAgIGNvbmZlcmVuY2VMb2NhdGlvbjogIlNoYW5naGFpIiwKICAgICAgICAgIGNvbmZlcmVuY2VFZGl0b3I6ICJjZTEiLAogICAgICAgIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoKCkgewogICAgICB2YXIgc2VhcmNoX3dvcmQgPSB0aGlzLmlucHV0LnRyaW0oKTsKICAgICAgaWYgKHNlYXJjaF93b3JkID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36L6T5YWl5YaF5a65Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciByZXMgPSBbXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkRvY3VtZW50cy5sZW5ndGg7ICsraSkgewogICAgICAgIGxldCBkb2MgPSB0aGlzLkRvY3VtZW50c1tpXTsKICAgICAgICBpZiAoCiAgICAgICAgICBzZWFyY2hfd29yZCA9PT0gZG9jLmRvY0lkLnRvU3RyaW5nKCkgfHwKICAgICAgICAgIGRvYy50aXRsZS5pbmRleE9mKHNlYXJjaF93b3JkKSAhPSAtMSB8fAogICAgICAgICAgZG9jLnB1Ymxpc2hlck5hbWUuaW5kZXhPZihzZWFyY2hfd29yZCkgIT0gLTEKICAgICAgICApIHsKICAgICAgICAgIHJlcy5wdXNoKGRvYyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuJGVtaXQoInNlYXJjaCIsIHJlcyk7CiAgICB9LAogICAgLy8gc2VhcmNoKCkgewogICAgLy8gICAvLyBjb25zb2xlLmxvZygiY2hpbGQiICsgdGhpcy5pbnB1dCk7CiAgICAvLyAgIHRoaXMuYXhpb3MoewogICAgLy8gICAgIG1ldGhvZDogImdldCIsCiAgICAvLyAgICAgdXJsOiAiL2RvYy8iICsgdGhpcy5pbnB1dCwKICAgIC8vICAgfSkKICAgIC8vICAgICAudGhlbigocmVzKSA9PiB7CiAgICAvLyAgICAgICB0aGlzLiRlbWl0KCJzZWFyY2giLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YS5kYXRhKSk7CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGVycikgPT4gewogICAgLy8gICAgICAgY29uc29sZS5sb2coImVycnJyciIgKyBlcnIpOwogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICB9LAp9Owo="},{"version":3,"sources":["SearchBar.vue"],"names":[],"mappings":";AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <el-input\n      placeholder=\"请输入文档ID、文档名称或者出版社名字\"\n      v-model=\"input\"\n      class=\"input-with-select\"\n    >\n      <!-- <el-select v-model=\"select\" slot=\"prepend\" placeholder=\"请选择\">\n        <el-option label=\"餐厅\" value=\"1\"></el-option>\n        <el-option label=\"订单\" value=\"2\"></el-option>\n        <el-option label=\"用户\" value=\"3\"></el-option>\n      </el-select> -->\n      <el-button\n        slot=\"append\"\n        icon=\"el-icon-search\"\n        @click=\"search\"\n      ></el-button>\n    </el-input>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      input: \"\",\n      select: \"\",\n      Documents: [\n        {\n          docId: 1001,\n          title: \"doc title1001\",\n          publisherId: 2001,\n          publicationDate: \"2012-06-07\",\n          types: \"book\",\n          publisherName: \"pub name1001\",\n          publisherAddress: \"pub address1001\",\n          ISBN: \"ISBN1001\",\n          authorList: [\"author1\", \"author2\", \"author3\"],\n        },\n        {\n          docId: 1002,\n          title: \"doc title1002\",\n          publisherId: 2002,\n          publicationDate: \"2011-06-07\",\n          types: \"book\",\n          publisherName: \"pub name1002\",\n          publisherAddress: \"pub address1002\",\n          ISBN: \"ISBN1002\",\n          authorList: [\"author1\", \"author4\"],\n        },\n        {\n          docId: 1003,\n          title: \"doc title1003\",\n          publisherId: 2001,\n          publicationDate: \"2001-06-07\",\n          types: \"journal volume\",\n          publisherName: \"pub name1003\",\n          publisherAddress: \"pub address1003\",\n          journalName: \"journalName1003\",\n          scope: \"scope1003\",\n          editorList: [\"e1\", \"e2\", \"e4\"],\n          volumeEditor: [\"ve1\", \"ve2\", \"ve3\", \"ve4\"],\n        },\n        {\n          docId: 1004,\n          title: \"doc title1004\",\n          publisherId: 2005,\n          publicationDate: \"1999-06-07\",\n          types: \"conference proceedings\",\n          publisherName: \"pub name1003\",\n          publisherAddress: \"pub address1004\",\n          conferenceDate: \"1998-07-09\",\n          conferenceLocation: \"Shanghai\",\n          conferenceEditor: \"ce1\",\n        },\n      ],\n    };\n  },\n  methods: {\n    search() {\n      var search_word = this.input.trim();\n      if (search_word == \"\") {\n        this.$message.error(\"请输入内容\");\n        return;\n      }\n      var res = [];\n      for (let i = 0; i < this.Documents.length; ++i) {\n        let doc = this.Documents[i];\n        if (\n          search_word === doc.docId.toString() ||\n          doc.title.indexOf(search_word) != -1 ||\n          doc.publisherName.indexOf(search_word) != -1\n        ) {\n          res.push(doc);\n        }\n      }\n      this.$emit(\"search\", res);\n    },\n    // search() {\n    //   // console.log(\"child\" + this.input);\n    //   this.axios({\n    //     method: \"get\",\n    //     url: \"/doc/\" + this.input,\n    //   })\n    //     .then((res) => {\n    //       this.$emit(\"search\", JSON.stringify(res.data.data));\n    //     })\n    //     .catch((err) => {\n    //       console.log(\"errrrr\" + err);\n    //     });\n    // },\n  },\n};\n</script>\n<style>\n.el-select .el-input {\n  width: 130px;\n}\n.input-with-select .el-input-group__prepend {\n  background-color: #fff;\n}\n</style>"]}]}