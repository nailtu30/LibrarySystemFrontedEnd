{"remainingRequest":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/babel-loader/lib/index.js!/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nail_tu/Desktop/advancedDB/universitylib/src/components/SearchBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/src/components/SearchBar.vue","mtime":1671687666991},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/babel.config.js","mtime":1671677287463},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/cache-loader/dist/cjs.js","mtime":1671677016981},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/babel-loader/lib/index.js","mtime":1671677018849},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/cache-loader/dist/cjs.js","mtime":1671677016981},{"path":"/Users/nail_tu/Desktop/advancedDB/universitylib/node_modules/vue-loader/lib/index.js","mtime":1671677018662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5wdXQ6ICIiLAogICAgICBzZWxlY3Q6ICIiLAogICAgICBEb2N1bWVudHM6IFt7CiAgICAgICAgZG9jSWQ6IDEwMDEsCiAgICAgICAgdGl0bGU6ICJkb2MgdGl0bGUxMDAxIiwKICAgICAgICBwdWJsaXNoZXJJZDogMjAwMSwKICAgICAgICBwdWJsaWNhdGlvbkRhdGU6ICIyMDEyLTA2LTA3IiwKICAgICAgICB0eXBlczogImJvb2siLAogICAgICAgIHB1Ymxpc2hlck5hbWU6ICJwdWIgbmFtZTEwMDEiLAogICAgICAgIHB1Ymxpc2hlckFkZHJlc3M6ICJwdWIgYWRkcmVzczEwMDEiLAogICAgICAgIElTQk46ICJJU0JOMTAwMSIsCiAgICAgICAgYXV0aG9yTGlzdDogWyJhdXRob3IxIiwgImF1dGhvcjIiLCAiYXV0aG9yMyJdCiAgICAgIH0sIHsKICAgICAgICBkb2NJZDogMTAwMiwKICAgICAgICB0aXRsZTogImRvYyB0aXRsZTEwMDIiLAogICAgICAgIHB1Ymxpc2hlcklkOiAyMDAyLAogICAgICAgIHB1YmxpY2F0aW9uRGF0ZTogIjIwMTEtMDYtMDciLAogICAgICAgIHR5cGVzOiAiYm9vayIsCiAgICAgICAgcHVibGlzaGVyTmFtZTogInB1YiBuYW1lMTAwMiIsCiAgICAgICAgcHVibGlzaGVyQWRkcmVzczogInB1YiBhZGRyZXNzMTAwMiIsCiAgICAgICAgSVNCTjogIklTQk4xMDAyIiwKICAgICAgICBhdXRob3JMaXN0OiBbImF1dGhvcjEiLCAiYXV0aG9yNCJdCiAgICAgIH0sIHsKICAgICAgICBkb2NJZDogMTAwMywKICAgICAgICB0aXRsZTogImRvYyB0aXRsZTEwMDMiLAogICAgICAgIHB1Ymxpc2hlcklkOiAyMDAxLAogICAgICAgIHB1YmxpY2F0aW9uRGF0ZTogIjIwMDEtMDYtMDciLAogICAgICAgIHR5cGVzOiAiam91cm5hbCB2b2x1bWUiLAogICAgICAgIHB1Ymxpc2hlck5hbWU6ICJwdWIgbmFtZTEwMDMiLAogICAgICAgIHB1Ymxpc2hlckFkZHJlc3M6ICJwdWIgYWRkcmVzczEwMDMiLAogICAgICAgIGpvdXJuYWxOYW1lOiAiam91cm5hbE5hbWUxMDAzIiwKICAgICAgICBzY29wZTogInNjb3BlMTAwMyIsCiAgICAgICAgZWRpdG9yTGlzdDogWyJlMSIsICJlMiIsICJlNCJdLAogICAgICAgIHZvbHVtZUVkaXRvcjogWyJ2ZTEiLCAidmUyIiwgInZlMyIsICJ2ZTQiXQogICAgICB9LCB7CiAgICAgICAgZG9jSWQ6IDEwMDQsCiAgICAgICAgdGl0bGU6ICJkb2MgdGl0bGUxMDA0IiwKICAgICAgICBwdWJsaXNoZXJJZDogMjAwNSwKICAgICAgICBwdWJsaWNhdGlvbkRhdGU6ICIxOTk5LTA2LTA3IiwKICAgICAgICB0eXBlczogImNvbmZlcmVuY2UgcHJvY2VlZGluZ3MiLAogICAgICAgIHB1Ymxpc2hlck5hbWU6ICJwdWIgbmFtZTEwMDMiLAogICAgICAgIHB1Ymxpc2hlckFkZHJlc3M6ICJwdWIgYWRkcmVzczEwMDQiLAogICAgICAgIGNvbmZlcmVuY2VEYXRlOiAiMTk5OC0wNy0wOSIsCiAgICAgICAgY29uZmVyZW5jZUxvY2F0aW9uOiAiU2hhbmdoYWkiLAogICAgICAgIGNvbmZlcmVuY2VFZGl0b3I6ICJjZTEiCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoKCkgewogICAgICB2YXIgc2VhcmNoX3dvcmQgPSB0aGlzLmlucHV0LnRyaW0oKTsKICAgICAgaWYgKHNlYXJjaF93b3JkID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36L6T5YWl5YaF5a65Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciByZXMgPSBbXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkRvY3VtZW50cy5sZW5ndGg7ICsraSkgewogICAgICAgIGxldCBkb2MgPSB0aGlzLkRvY3VtZW50c1tpXTsKICAgICAgICBpZiAoc2VhcmNoX3dvcmQgPT09IGRvYy5kb2NJZC50b1N0cmluZygpIHx8IGRvYy50aXRsZS5pbmRleE9mKHNlYXJjaF93b3JkKSAhPSAtMSB8fCBkb2MucHVibGlzaGVyTmFtZS5pbmRleE9mKHNlYXJjaF93b3JkKSAhPSAtMSkgewogICAgICAgICAgcmVzLnB1c2goZG9jKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgic2VhcmNoIiwgcmVzKTsKICAgIH0KICAgIC8vIHNlYXJjaCgpIHsKICAgIC8vICAgLy8gY29uc29sZS5sb2coImNoaWxkIiArIHRoaXMuaW5wdXQpOwogICAgLy8gICB0aGlzLmF4aW9zKHsKICAgIC8vICAgICBtZXRob2Q6ICJnZXQiLAogICAgLy8gICAgIHVybDogIi9kb2MvIiArIHRoaXMuaW5wdXQsCiAgICAvLyAgIH0pCiAgICAvLyAgICAgLnRoZW4oKHJlcykgPT4gewogICAgLy8gICAgICAgdGhpcy4kZW1pdCgic2VhcmNoIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEuZGF0YSkpOwogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCJlcnJycnIiICsgZXJyKTsKICAgIC8vICAgICB9KTsKICAgIC8vIH0sCiAgfQp9Ow=="},{"version":3,"mappings":";AAsBA;EACAA;IACA;MACAC;MACAC;MACAC,YACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAR;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAR;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAG;QACAC;QACAC;QACAC;MACA,GACA;QACAZ;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAO;QACAC;QACAC;MACA;IAEA;EACA;EACAC;IACAC;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;QACA,IACAC,wCACAC,wCACAA,8CACA;UACAC;QACA;MACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;AACA","names":["data","input","select","Documents","docId","title","publisherId","publicationDate","types","publisherName","publisherAddress","ISBN","authorList","journalName","scope","editorList","volumeEditor","conferenceDate","conferenceLocation","conferenceEditor","methods","search","search_word","doc","res"],"sourceRoot":"src/components","sources":["SearchBar.vue"],"sourcesContent":["<template>\n  <div>\n    <el-input\n      placeholder=\"请输入文档ID、文档名称或者出版社名字\"\n      v-model=\"input\"\n      class=\"input-with-select\"\n    >\n      <!-- <el-select v-model=\"select\" slot=\"prepend\" placeholder=\"请选择\">\n        <el-option label=\"餐厅\" value=\"1\"></el-option>\n        <el-option label=\"订单\" value=\"2\"></el-option>\n        <el-option label=\"用户\" value=\"3\"></el-option>\n      </el-select> -->\n      <el-button\n        slot=\"append\"\n        icon=\"el-icon-search\"\n        @click=\"search\"\n      ></el-button>\n    </el-input>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      input: \"\",\n      select: \"\",\n      Documents: [\n        {\n          docId: 1001,\n          title: \"doc title1001\",\n          publisherId: 2001,\n          publicationDate: \"2012-06-07\",\n          types: \"book\",\n          publisherName: \"pub name1001\",\n          publisherAddress: \"pub address1001\",\n          ISBN: \"ISBN1001\",\n          authorList: [\"author1\", \"author2\", \"author3\"],\n        },\n        {\n          docId: 1002,\n          title: \"doc title1002\",\n          publisherId: 2002,\n          publicationDate: \"2011-06-07\",\n          types: \"book\",\n          publisherName: \"pub name1002\",\n          publisherAddress: \"pub address1002\",\n          ISBN: \"ISBN1002\",\n          authorList: [\"author1\", \"author4\"],\n        },\n        {\n          docId: 1003,\n          title: \"doc title1003\",\n          publisherId: 2001,\n          publicationDate: \"2001-06-07\",\n          types: \"journal volume\",\n          publisherName: \"pub name1003\",\n          publisherAddress: \"pub address1003\",\n          journalName: \"journalName1003\",\n          scope: \"scope1003\",\n          editorList: [\"e1\", \"e2\", \"e4\"],\n          volumeEditor: [\"ve1\", \"ve2\", \"ve3\", \"ve4\"],\n        },\n        {\n          docId: 1004,\n          title: \"doc title1004\",\n          publisherId: 2005,\n          publicationDate: \"1999-06-07\",\n          types: \"conference proceedings\",\n          publisherName: \"pub name1003\",\n          publisherAddress: \"pub address1004\",\n          conferenceDate: \"1998-07-09\",\n          conferenceLocation: \"Shanghai\",\n          conferenceEditor: \"ce1\",\n        },\n      ],\n    };\n  },\n  methods: {\n    search() {\n      var search_word = this.input.trim();\n      if (search_word == \"\") {\n        this.$message.error(\"请输入内容\");\n        return;\n      }\n      var res = [];\n      for (let i = 0; i < this.Documents.length; ++i) {\n        let doc = this.Documents[i];\n        if (\n          search_word === doc.docId.toString() ||\n          doc.title.indexOf(search_word) != -1 ||\n          doc.publisherName.indexOf(search_word) != -1\n        ) {\n          res.push(doc);\n        }\n      }\n      this.$emit(\"search\", res);\n    },\n    // search() {\n    //   // console.log(\"child\" + this.input);\n    //   this.axios({\n    //     method: \"get\",\n    //     url: \"/doc/\" + this.input,\n    //   })\n    //     .then((res) => {\n    //       this.$emit(\"search\", JSON.stringify(res.data.data));\n    //     })\n    //     .catch((err) => {\n    //       console.log(\"errrrr\" + err);\n    //     });\n    // },\n  },\n};\n</script>\n<style>\n.el-select .el-input {\n  width: 130px;\n}\n.input-with-select .el-input-group__prepend {\n  background-color: #fff;\n}\n</style>"]}]}